
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>ingenico.connect.sdk.domain.payment.definitions.merchant_action &#8212; connect-sdk-python3 2.30.0 documentation</title>
    <link rel="stylesheet" href="../../../../../../../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../../../../../../../_static/pygments.css" type="text/css" />
    <script type="text/javascript" src="../../../../../../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../../../../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../../../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../../../../../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../../../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../../../search.html" />
   
  <link rel="stylesheet" href="../../../../../../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <h1>Source code for ingenico.connect.sdk.domain.payment.definitions.merchant_action</h1><div class="highlight"><pre>
<span></span><span class="c1"># -*- coding: utf-8 -*-</span>
<span class="c1">#</span>
<span class="c1"># This class was auto-generated from the API references found at</span>
<span class="c1"># https://epayments-api.developer-ingenico.com/s2sapi/v1/</span>
<span class="c1">#</span>
<span class="kn">from</span> <span class="nn">ingenico.connect.sdk.data_object</span> <span class="k">import</span> <span class="n">DataObject</span>
<span class="kn">from</span> <span class="nn">ingenico.connect.sdk.domain.definitions.key_value_pair</span> <span class="k">import</span> <span class="n">KeyValuePair</span>
<span class="kn">from</span> <span class="nn">ingenico.connect.sdk.domain.payment.definitions.redirect_data</span> <span class="k">import</span> <span class="n">RedirectData</span>
<span class="kn">from</span> <span class="nn">ingenico.connect.sdk.domain.product.definitions.payment_product_field</span> <span class="k">import</span> <span class="n">PaymentProductField</span>


<div class="viewcode-block" id="MerchantAction"><a class="viewcode-back" href="../../../../../../../index.html#ingenico.connect.sdk.domain.payment.definitions.merchant_action.MerchantAction">[docs]</a><span class="k">class</span> <span class="nc">MerchantAction</span><span class="p">(</span><span class="n">DataObject</span><span class="p">):</span>

    <span class="n">__action_type</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">__form_fields</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">__redirect_data</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">__rendering_data</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">__show_data</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">action_type</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        | Action merchants needs to take in the online payment process. Possible values are:</span>
<span class="sd">        </span>
<span class="sd">        * REDIRECT - The consumer needs to be redirected using the details found in redirectData</span>
<span class="sd">        * SHOW_FORM - The consumer needs to be shown a form with the fields found in formFields. You can submit the data entered by the user in a Complete payment &lt;https://epayments-api.developer-ingenico.com/s2sapi/v1/en_US/python/payments/complete.html&gt; request. Additionally:</span>
<span class="sd">        </span>
<span class="sd">        * for payment product 3012 (Bancontact), to support payments via the Bancontact app, showData contains a QR code and URL intent.</span>
<span class="sd">        * for payment product 863 (WeChat Pay), to support payments via the WeChat app, showData contains a QR code, URL intent, or signature and nonce combination. The showData field describes when each of these values can be returned.</span>
<span class="sd">        | Note that WeChat Pay does not support completing payments.</span>
<span class="sd">        </span>
<span class="sd">        </span>
<span class="sd">        * SHOW_INSTRUCTIONS - The consumer needs to be shown payment instruction using the details found in showData. Alternatively the instructions can be rendered by us using the instructionsRenderingData</span>
<span class="sd">        * SHOW_TRANSACTION_RESULTS - The consumer needs to be shown the transaction results using the details found in showData. Alternatively the instructions can be rendered by us using the instructionsRenderingData</span>
<span class="sd">        </span>
<span class="sd">        Type: str</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__action_type</span>

    <span class="nd">@action_type</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">action_type</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__action_type</span> <span class="o">=</span> <span class="n">value</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">form_fields</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        | Populated only when the actionType of the merchantAction is SHOW_FORM. In this case, this field contains the list of fields to render, in the format that is also used in the response of Get payment product &lt;https://epayments-api.developer-ingenico.com/s2sapi/v1/en_US/python/products/get.html&gt;.</span>
<span class="sd">        </span>
<span class="sd">        Type: list[:class:`ingenico.connect.sdk.domain.product.definitions.payment_product_field.PaymentProductField`]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__form_fields</span>

    <span class="nd">@form_fields</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">form_fields</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__form_fields</span> <span class="o">=</span> <span class="n">value</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">redirect_data</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        | Object containing all data needed to redirect the consumer</span>
<span class="sd">        </span>
<span class="sd">        Type: :class:`ingenico.connect.sdk.domain.payment.definitions.redirect_data.RedirectData`</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__redirect_data</span>

    <span class="nd">@redirect_data</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">redirect_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__redirect_data</span> <span class="o">=</span> <span class="n">value</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">rendering_data</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        | This field contains the blob with data for the instructions rendering service.</span>
<span class="sd">        </span>
<span class="sd">        | This service will be available at the following endpoint:http(s)://{{merchant specific subdomain}}.{{base MyCheckout hosted payment pages domain}}/instructions/{{merchantId}}/{{clientSessionId}}</span>
<span class="sd">        </span>
<span class="sd">        | This instructions page rendering service accepts the following parameters:</span>
<span class="sd">        </span>
<span class="sd">        * instructionsRenderingData (required, the content of this field)</span>
<span class="sd">        * locale (optional, if present overrides default locale, e.g. &quot;en_GB&quot;)</span>
<span class="sd">        * variant (optional, code of a variant, if present overrides default variant, e.g. &quot;100&quot;)</span>
<span class="sd">        </span>
<span class="sd">        | You can offer a link to a consumer to see an instructions page for a payment done earlier. Because of the size of the instructionsRenderingData this will need to be set in a web form as a value of a hidden field. Before presenting the link you need to obtain a clientSessionId by creating a session using the S2S API. You will need to use the MyCheckout hosted payment pages domain hosted in the same region as the API domain used for the createClientSession call.</span>
<span class="sd">        </span>
<span class="sd">        | The instructionsRenderingData is a String blob that is presented to you via the Server API as part of the merchantAction (if available, and non-redirect) in the JSON return values for the createPayment call or the getHostedCheckoutStatus call (merchantAction inside createdPaymentOutput when available).You are responsible to store the instructionsRenderingData blob in order to be able to present the instructions page at a later time, when this information might no longer be available through Server API calls.</span>
<span class="sd">        </span>
<span class="sd">        Type: str</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__rendering_data</span>

    <span class="nd">@rendering_data</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">rendering_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__rendering_data</span> <span class="o">=</span> <span class="n">value</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">show_data</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        | This is returned for the SHOW_INSTRUCTION, the SHOW_TRANSACTION_RESULTS and the SHOW_FORM actionType.</span>
<span class="sd">        | When returned for SHOW_TRANSACTION_RESULTS or SHOW_FORM, this contains an array of key value pairs of data that needs to be shown to the consumer.</span>
<span class="sd">        | Note: The returned value for the key BARCODE is a base64 encoded gif image. By prepending &#39;data:image/gif;base64,&#39; this value can be used as the source of an HTML inline image.</span>
<span class="sd">        </span>
<span class="sd">        | For SHOW_FORM, for payment product 3012 (Bancontact), this contains a QR code and a URL intent that can be used to complete the payment in the Bancontact app.</span>
<span class="sd">        | In this case, the key QRCODE contains a base64 encoded PNG image. By prepending &#39;data:image/png;base64,&#39; this value can be used as the source of an HTML inline image on a desktop or tablet (intended to be scanned by an Android device with the Bancontact app). The key URLINTENT contains a URL intent that can be used as the link of an &#39;open the app&#39; button on an Android device.</span>
<span class="sd">        </span>
<span class="sd">        | For SHOW_FORM, for payment product 863 (WeChat Pay), this contains the PaymentId that WeChat has assigned to the payment. In this case, the key WECHAT_PAYMENTID contains this PaymentId. In addition, this can contain different values depending on the integration type:</span>
<span class="sd">        </span>
<span class="sd">        * desktopQRCode - contains a QR code that can be used to complete the payment in the WeChat app. In this case, the key QRCODE contains a base64 encoded PNG image. By prepending &#39;data:image/png;base64,&#39; this value can be used as the source of an HTML inline image on a desktop or tablet (intended to be scanned by a mobile device with the WeChat app).</span>
<span class="sd">        * urlIntent - contains a URL intent that can be used to complete the payment in the WeChat app. In this case, the key URLINTENT contains a URL intent that can be used as the link of an &#39;open the app&#39; button on a mobile device.</span>
<span class="sd">        * nativeInApp - contains a signature of the payment values and a nonce used to generate the signature, that can be used to complete the payment using the WeChat SDK. In this case, the key WECHAT_SIGNATURE contains the signature that should be used for the WeChat SDK field sign. The key SIGNATURE_NONCE contains the nonce that should be used for the WeChat SDK field noncestr.</span>
<span class="sd">        </span>
<span class="sd">        Type: list[:class:`ingenico.connect.sdk.domain.definitions.key_value_pair.KeyValuePair`]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__show_data</span>

    <span class="nd">@show_data</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">show_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__show_data</span> <span class="o">=</span> <span class="n">value</span>

<div class="viewcode-block" id="MerchantAction.to_dictionary"><a class="viewcode-back" href="../../../../../../../index.html#ingenico.connect.sdk.domain.payment.definitions.merchant_action.MerchantAction.to_dictionary">[docs]</a>    <span class="k">def</span> <span class="nf">to_dictionary</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">dictionary</span> <span class="o">=</span> <span class="nb">super</span><span class="p">(</span><span class="n">MerchantAction</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">to_dictionary</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_add_to_dictionary</span><span class="p">(</span><span class="n">dictionary</span><span class="p">,</span> <span class="s1">&#39;actionType&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">action_type</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_add_to_dictionary</span><span class="p">(</span><span class="n">dictionary</span><span class="p">,</span> <span class="s1">&#39;formFields&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">form_fields</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_add_to_dictionary</span><span class="p">(</span><span class="n">dictionary</span><span class="p">,</span> <span class="s1">&#39;redirectData&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">redirect_data</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_add_to_dictionary</span><span class="p">(</span><span class="n">dictionary</span><span class="p">,</span> <span class="s1">&#39;renderingData&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">rendering_data</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_add_to_dictionary</span><span class="p">(</span><span class="n">dictionary</span><span class="p">,</span> <span class="s1">&#39;showData&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">show_data</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">dictionary</span></div>

<div class="viewcode-block" id="MerchantAction.from_dictionary"><a class="viewcode-back" href="../../../../../../../index.html#ingenico.connect.sdk.domain.payment.definitions.merchant_action.MerchantAction.from_dictionary">[docs]</a>    <span class="k">def</span> <span class="nf">from_dictionary</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dictionary</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">MerchantAction</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">from_dictionary</span><span class="p">(</span><span class="n">dictionary</span><span class="p">)</span>
        <span class="k">if</span> <span class="s1">&#39;actionType&#39;</span> <span class="ow">in</span> <span class="n">dictionary</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">action_type</span> <span class="o">=</span> <span class="n">dictionary</span><span class="p">[</span><span class="s1">&#39;actionType&#39;</span><span class="p">]</span>
        <span class="k">if</span> <span class="s1">&#39;formFields&#39;</span> <span class="ow">in</span> <span class="n">dictionary</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">dictionary</span><span class="p">[</span><span class="s1">&#39;formFields&#39;</span><span class="p">],</span> <span class="nb">list</span><span class="p">):</span>
                <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;value </span><span class="se">\&#39;</span><span class="si">{}</span><span class="se">\&#39;</span><span class="s1"> is not a list&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">dictionary</span><span class="p">[</span><span class="s1">&#39;formFields&#39;</span><span class="p">]))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">form_fields</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">formFields_element</span> <span class="ow">in</span> <span class="n">dictionary</span><span class="p">[</span><span class="s1">&#39;formFields&#39;</span><span class="p">]:</span>
                <span class="n">formFields_value</span> <span class="o">=</span> <span class="n">PaymentProductField</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">form_fields</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">formFields_value</span><span class="o">.</span><span class="n">from_dictionary</span><span class="p">(</span><span class="n">formFields_element</span><span class="p">))</span>
        <span class="k">if</span> <span class="s1">&#39;redirectData&#39;</span> <span class="ow">in</span> <span class="n">dictionary</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">dictionary</span><span class="p">[</span><span class="s1">&#39;redirectData&#39;</span><span class="p">],</span> <span class="nb">dict</span><span class="p">):</span>
                <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;value </span><span class="se">\&#39;</span><span class="si">{}</span><span class="se">\&#39;</span><span class="s1"> is not a dictionary&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">dictionary</span><span class="p">[</span><span class="s1">&#39;redirectData&#39;</span><span class="p">]))</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">RedirectData</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">redirect_data</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">from_dictionary</span><span class="p">(</span><span class="n">dictionary</span><span class="p">[</span><span class="s1">&#39;redirectData&#39;</span><span class="p">])</span>
        <span class="k">if</span> <span class="s1">&#39;renderingData&#39;</span> <span class="ow">in</span> <span class="n">dictionary</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">rendering_data</span> <span class="o">=</span> <span class="n">dictionary</span><span class="p">[</span><span class="s1">&#39;renderingData&#39;</span><span class="p">]</span>
        <span class="k">if</span> <span class="s1">&#39;showData&#39;</span> <span class="ow">in</span> <span class="n">dictionary</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">dictionary</span><span class="p">[</span><span class="s1">&#39;showData&#39;</span><span class="p">],</span> <span class="nb">list</span><span class="p">):</span>
                <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;value </span><span class="se">\&#39;</span><span class="si">{}</span><span class="se">\&#39;</span><span class="s1"> is not a list&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">dictionary</span><span class="p">[</span><span class="s1">&#39;showData&#39;</span><span class="p">]))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">show_data</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">showData_element</span> <span class="ow">in</span> <span class="n">dictionary</span><span class="p">[</span><span class="s1">&#39;showData&#39;</span><span class="p">]:</span>
                <span class="n">showData_value</span> <span class="o">=</span> <span class="n">KeyValuePair</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">show_data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">showData_value</span><span class="o">.</span><span class="n">from_dictionary</span><span class="p">(</span><span class="n">showData_element</span><span class="p">))</span>
        <span class="k">return</span> <span class="bp">self</span></div></div>
</pre></div>

          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../../../../../../index.html">Documentation overview</a><ul>
  <li><a href="../../../../../../index.html">Module code</a><ul>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../../../../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;Copyright (c) 2016 Global Collect Services B.V..
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.7.4</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.10</a>
      
    </div>

    

    
  </body>
</html>